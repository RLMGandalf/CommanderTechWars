<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <noloc><title>Game Settings</title></noloc>    
    <link href="coui://ui/main/shared/css/global.css" rel="stylesheet" type="text/css" />

    <script src="coui://ui/main/shared/js/common.js" type="text/javascript"></script>
    <!-- optional, if you're going to use select boxes -->
    <script src="coui://ui/main/shared/js/thirdparty/bootstrap-select/bootstrap-select.js" type="text/javascript"></script>
    <script src="coui://ui/main/shared/js/thirdparty/slider/js/bootstrap-slider.js" type="text/javascript"></script>
    <script src="settings.js" type="text/javascript"></script>
    <!-- optional, if you're going to use select boxes -->
    <link href="coui://ui/main/shared/js/thirdparty/bootstrap-select/bootstrap-select.css" rel="stylesheet" type="text/css" />
    <link href="coui://ui/main/shared/js/thirdparty/slider/css/slider.css" rel="stylesheet" type="text/css" />
    <link href="coui://ui/main/shared/css/landing_page.css" rel="stylesheet" type="text/css" />
    <link href="settings.css" rel="stylesheet" type="text/css" />
</head>
<body data-bind="css: { body_panel: inPanel }, event: { keydown: captureKey, keyup: captureCurrentCombo }">

    <!--- VISUAL TREATMENTS --->
    <div class="background_glow"></div>
    <div class="title_watermark" data-bind="visible: active">
        <loc data-i18n="settings:settings.message" desc="">Settings</loc>
    </div>
    <div class="title_watermark" style="-webkit-animation-delay: 9s;" data-bind="visible: active">
        <noloc>Si vis pacem, para bellum</noloc>
    </div>

    <!-- TITLE -->
    <div class="section_title">
                <loc data-i18n="settings:settings.message" desc="">Settings</loc>
    </div>
    <!-- CONTENT --->
    <div class="section_content_top_bar">
        <!-- TABS -->
        <div class="tab_cont">
            <div class="tabs">
                <ul class="nav-pills">
                    <!-- ko foreach: settingGroups -->
                    <li data-bind="css: { 'active': $index() === $root.activeSettingsGroupIndex() }">
                        <a data-toggle="pill" href="#ui"
                            data-bind="click_sound: 'default',
                            rollover_sound: 'default',
                            text: loc ( model.settingDefinitions()[$data].title ),
                            click: function () { model.activeSettingsGroupIndex($index()) }"></a>
                    </li>
                    <!-- /ko -->
                </ul>
            </div>
        </div>
    </div>
    <div class="section_content" style="background: rgba(0, 0, 0, 0.65);">
            <div class="section_wrapper">

                <script type="text/html" id="setting-template">

                    <!-- ko ifnot: $data.type() === 'keybind' -->
                    <label for="settings_item" data-bind="text: loc( $data.title() )"></label>

                    <!-- ko if: $data.type() === 'select' -->
                    <select class="selectpicker form-control" id="Select1" name="dropdown" 
                        data-bind="options: $data.options,
                        optionsValue: function (item) { return item.value },
                        optionsText: function (item) { return loc( item.text ) },
                        selectPicker: $data.value">
                    </select>                       
                    <!-- /ko -->

                    <!-- ko if: $data.type() === 'slider' -->
                    <input type="text" id="Text2" class="slider" value=""
                        data-slider-handle="square" data-slider-orientation="horizontal" data-slider-selection="none" data-slider-tooltip="hide"
                        data-bind="slider: { value: $data.value, options: $data.options }" />
                    <!-- /ko -->
                    <!-- /ko -->
                    
                    <!-- ko if: $data.type() === 'keybind' -->
                    <div class="one-keybind" data-bind="click: $data.setAsActiveKey">
                        <div class="label_cont">
                            <label data-bind="text: loc( $data.title() )"></label>
                        </div>
                        <div class="bind_cont">
                            <input type="text" class="form-control" disabled data-bind="value: $data.value, css: { active: active }" />
                            <div class="close" data-bind="click: $data.clear, click_sound: 'default', rollover_sound: 'default', visible: $data.showClear, clickBubble: false"></div>
                        </div>
                        <div class="conflict" data-bind="visible: $data.hasConflict">
                            <span class="prefix">Conflict: </span>
                            <!-- ko foreach: $data.conflicts -->
                                <!--ko if: $index() != 0-->
                                <span class="separator">/</span>
                                <!--/ko-->
                                <span class="item">
                                    <span class="label_cont">
                                        <label data-bind="text: $data.title"></label>
                                    </span>
                                </span>
                            <!-- /ko -->
                        </div>
                    </div>
                    <!-- /ko -->
                </script>

                <div class="container_centered container_settings">

                    <!-- ko if: ($root.activeSettingsGroupIndex() === 0) -->
                    <div class="option-list graphics">
                        <div class="form-group">
                            <div class="sub-group top">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.quality'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.texture'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.headlights'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.shadows'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.ambient_occlusion'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.anti_aliasing'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.hdr'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.resolution_scaling'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['graphics.display_mode'] }"></div>
                            </div>               
                        </div>
                    </div>
                    <!--/ko -->

                    <!-- ko if: ($root.activeSettingsGroupIndex() === 1) -->
                    <div class="option-list audio">
                        <div class="form-group">
                            <div class="sub-group top">
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['audio.master'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['audio.music'] }"></div>
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['audio.voice'] }"></div>
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['audio.sfx'] }"></div>
                            </div>           
                        </div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if: ($root.activeSettingsGroupIndex() === 2) -->
                    <div class="option-list camera">
                        <div class="form-group">
                            <div class="sub-group top">
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['camera.mouse_pan_speed'] }"></div>
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['camera.key_pan_speed'] }"></div>
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['camera.zoom_speed'] }"></div>
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['camera.camera_friction'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['camera.edge_scroll_options'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['camera.pole_lock'] }"></div>
                            </div>
                        </div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if: ($root.activeSettingsGroupIndex() === 3) -->
                    <div class="option-list ui">
                        <div class="form-group">
                            <div class="sub-group top">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.language'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.show_unit_icons'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.show_metal_spot_icons'] }"></div>
                                <div class="option slider" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.icon_display_distance'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.show_stat_bars'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.show_orders'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.order_behavior'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.show_build_previews'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.build_preview_behavior'] }"></div>
                            </div>
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['ui.orbital_shell'] }"></div>
                            </div>
                        </div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if: ($root.activeSettingsGroupIndex() === 4) -->
                    <div class="option-list twitch">
                        <div class="twitch_header">
                            <loc data-i18n="settings:livestream_settings.message" desc="">Livestream Settings</loc>
                        </div>
                        <div class="twitch_login" data-bind="visible: !twitchReady()">
                            <!-- Login -->
                            <div style="width: 400px;">
                                <div class="form-group stack">
                                    <label for="twitchName">
                                        <loc data-i18n="settings:twitchName.message" desc="">Sign in with Your Twitch ID</loc>
                                    </label>
                                    <input type="text" id="Text3" class="form-control" value="" data-bind="value: twitchName" />
                                </div>
                                <div class="form-group stack">
                                    <label for="twitchPassword">
                                        <loc data-i18n="settings:twitchPassword.message" desc="">Password</loc>
                                    </label>
                                    <input type="password" id="Password1" class="form-control" value="" data-bind="value: twitchPassword" />
                                </div>
                                <div class="form-group stack">
                                    <input type="button" locattr="value" value="!LOC(settings:sign_in.message):SIGN IN" class="btn_std btn_toolbar" data-bind="click: twitchLogIn, click_sound: 'default', rollover_sound: 'default'" />
                                </div>
                                <div class="form-group twitch-message" data-bind="text: twitchMessage"></div>
                            </div>
                        </div>

                        <div class="twitch_controls_cont" data-bind="visible: twitchReady">
                            <!-- Once logged in -->
                            <div class="twitch-message" style="padding: 4px 8px; background: rgba(166, 142, 210, 0.07);">
                                <span><loc data-i18n="settings:signed_in_as.message" desc="">Signed in as</loc></span>
                                <span style="margin-right: 16px;" data-bind="text: twitchName"></span>
                                <input type="button" locattr="value" value="!LOC(settings:sign_out.message):SIGN OUT" class="btn_std btn_toolbar" data-bind="click: twitchLogOut, click_sound: 'default', rollover_sound: 'default'" />
                            </div>
                            <div class="option-list">
                                <div class="form-group">
                                    <label for="twitchStreamingDesired">
                                        <loc data-i18n="settings:twitchStreamingDesired.message" desc="">ENABLE STREAMING (Takes effect immediately)</loc>
                                    </label>
                                    <select class="selectpicker form-control" id="Select2" name="dropdown" data-bind="selectPicker: twitchStreamingDesired">
                                        <option value="OFF">
                                            <loc data-i18n="settings:off.message" desc="">OFF</loc>
                                        </option>
                                        <option value="ON">
                                            <loc data-i18n="settings:on.message" desc="">ON</loc>
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="twitchEnableMicrophone">
                                        <loc data-i18n="settings:twitchEnableMicrophone.message" desc="">ENABLE MICROPHONE</loc>
                                    </label>
                                    <select class="selectpicker form-control" id="Select3" name="dropdown" data-bind="selectPicker: twitchEnableMicrophone">
                                        <option value="OFF">
                                            <loc data-i18n="settings:off.message" desc="">OFF</loc>
                                        </option>
                                        <option value="ON">
                                            <loc data-i18n="settings:on.message" desc="">ON</loc>
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="twitchEnablePlayback">
                                        <loc data-i18n="settings:twitchEnablePlayback.message" desc="">ENABLE SYSTEM SOUNDS</loc>
                                    </label>
                                    <select class="selectpicker form-control" id="Select4" name="dropdown" data-bind="selectPicker: twitchEnablePlayback">
                                        <option value="OFF">
                                            <loc data-i18n="settings:off.message" desc="">OFF</loc>
                                        </option>
                                        <option value="ON">
                                            <loc data-i18n="settings:on.message" desc="">ON</loc>
                                        </option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="twitchIngestServer">
                                        <loc data-i18n="settings:twitchIngestServer.message" desc="">SERVER</loc>
                                    </label>
                                    <select class="selectpicker form-control" id="Select5" name="dropdown" data-bind="options: twitchIngestServer_options, selectPicker: twitchIngestServer"></select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="sub-group">
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['twitch.resolution'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['twitch.fps'] }"></div>
                                <div class="option" data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()['twitch.bitrate'] }"></div>
                            </div>
                        </div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if: ($root.activeSettingsGroupIndex() === 5) -->
                    <div class="option-list server">                      
                        <div class="form-group">
                            <div class="option">
                                <label for="uberNetRegion">
                                    <loc data-i18n="settings:uberNetRegion.message" desc="">SERVER</loc>
                                </label>
                                <select class="selectpicker form-control" id="uberNetRegion" name="dropdown"
                                    data-bind="options: uberNetRegions, optionsText: function (item) { return item.Name; }, optionsValue: function (item) { return item.Name; }, selectPicker: selectedUberNetRegion">
                                </select>
                            </div>
                        </div>    
                    </div>
                    <!-- /ko -->

                    <div class="option-list keyboard" data-bind="visible: ($root.activeSettingsGroupIndex() === 6)">
                        <!-- TABS -->
                        <div class="tab_cont">
                            <div class="tabs">
                                <ul class="nav-pills">
                                    <!-- ko foreach: keybindGroupTitles -->
                                    <li data-bind="css: { 'active': $index() === $root.activeKeyboardGroupIndex() }">
                                        <a data-toggle="pill" href="#ui"
                                            data-bind="click_sound: 'default',
                                            rollover_sound: 'default',
                                            text: loc ( $data ),
                                            click: function () { $root.activeKeyboardGroupIndex($index()) }"></a>
                                    </li>
                                    <!-- /ko -->
                                </ul>
                            </div>
                        </div>
                        <div class="section_cont">
                            <!-- ko foreach: $root.keybindGroupTitles() -->
                            <div class="one-keybind-group clearfix" data-bind="visible: $index() === $root.activeKeyboardGroupIndex()">
                                <!-- ko foreach: $root.keybindSubGroupTitles($data) -->
                                <div class="sub-group-title" data-bind="text: loc( $data )"></div>
                                <!-- ko foreach: $root.keybindSubGroupData($parent, $data) -->
                                <div data-bind="template: { name: 'setting-template', data: $root.settingsItemMap()[$data] }"></div>
                                <!-- /ko -->
                                <!-- /ko -->
                            </div>
                            <!-- /ko -->
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <!-- COMMIT -->
    <div class="div_commit_cont centered">
        <div class="container_centered">
            <div class="div_commit_btns">
                <div style="position: absolute; left: 0">
                    <div id="command" class="btn_std" 
                        data-bind="click: restoreGroupDefaults, click_sound: 'default', rollover_sound: 'default', css: { disabled: isDefault }">
                        <div class="btn_label">
                            <loc data-i18n="settings:restore_defaults.message" desc="">RESTORE DEFAULTS</loc>
                        </div>
                    </div>
                    <div id="command" class="btn_std" 
                        data-bind="click: restoreDefaults, click_sound: 'default', rollover_sound: 'default', css: { disabled: isDefault }">
                        <div class="btn_label">
                            <loc data-i18n="settings:restore_all_defaults.message" desc="">RESTORE ALL DEFAULTS</loc>
                        </div>
                    </div>
                </div>
                <div id="first" class="btn_std"
                    data-bind="click: save, click_sound: 'default', rollover_sound: 'default', css: { disabled: clean }">
                    <div class="btn_label">
                        <loc data-i18n="settings:save.message" desc="">Save</loc>
                    </div>
                </div>
                <div id="second" class="btn_std"
                    data-bind="click: saveAndExit, click_sound: 'default', rollover_sound: 'default', css: { disabled: clean }">
                    <div class="btn_label">
                        <loc data-i18n="settings:save_and_close.message" desc="">Save And Close</loc>
                    </div>
                </div>
                <div id="Div1" class="btn_std"
                    data-bind="click: back, click_sound: 'default', rollover_sound: 'default'">
                    <div class="btn_label">
                        <loc data-i18n="settings:cancel.message" desc="">Cancel</loc>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
