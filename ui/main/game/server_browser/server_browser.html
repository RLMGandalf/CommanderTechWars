<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<noloc><title>Game Browser</title></noloc>
<link href="coui://ui/main/shared/css/global.css" rel="stylesheet" type="text/css" />
<link href="coui://ui/main/shared/js/thirdparty/bootstrap-select/bootstrap-select.css" rel="stylesheet" type="text/css" />
<link href="coui://ui/main/shared/css/landing_page.css" rel="stylesheet" type="text/css" />
<link href="server_browser.css" rel="stylesheet" type="text/css" />
<script src="coui://ui/main/shared/js/common.js" type="text/javascript"></script>
<script src="coui://ui/main/shared/js/thirdparty/bootstrap-select/bootstrap-select.js" type="text/javascript"></script>
<script src="server_browser.js" type="text/javascript"></script>
</head>
<body>
<!--- VISUAL TREATMENTS ---->
<div class="background_glow"></div>
<div class="title_watermark">
    <loc data-i18n="server_browser:multiplayer.message" desc="">Multiplayer</loc>
</div>
<div class="title_watermark" style="-webkit-animation-delay:9s;">
    <noloc>multis e gentibus vires</noloc>
</div>

<!-- TITLE -->
<div class="section_title">
    <div class="content">

        <div class="btn_std_ix btn_back_small" data-bind="click: back">
            <span class="carat"><</span></div>
        <div class="title">
            <loc data-i18n="server_browser:multiplayer.message" desc="">Multiplayer</loc>
        </div>
    </div>
</div>
<!-- CONTENT --->
<div class="section_content_top_bar"> <!-- FOR TABS -->
</div>

<div class="section_content">
<div class="section_content_table overall_width">
    <div class="section_wrapper">
        <table>
            <tbody>
                <tr>
                    <!-- COL 1-->
                    <td class="col_1">
                        <div class="section_controls">
                            <div style="border-bottom: 1px solid #333; margin: 8px 0px;" data-bind="click: createGame">
                                <div class="btn_std" id="Div1" style="width:100%;">
                                    <div class="btn_label" style="">
                                        <loc data-i18n="server_browser:create_game.message" desc="">Create Game</loc>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group" data-bind="visible: hasUberNetRegions">
                                <label for="region-filter">
                                    <loc data-i18n="server_browser:region.message" desc="">Region</loc>
                                </label>
                                <select class="selectpicker form-control" id="Select1"
                                    data-bind="options: regionNameList, selectPicker: regionFilter">
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="planets">
                                    <loc data-i18n="server_browser:game_state.message" desc="">Game State</loc>
                                </label>
                                <select class="selectpicker form-control" id="Select2" name="game-state" data-bind="selectPicker: gameStateFilter">

                                    <option locattr="locdata" locdata="!LOC(server_browser:any.message):Any" value="any"></option>

                                    <option locattr="locdata" locdata="!LOC(server_browser:in_lobby.message):In Lobby" value="inlobby"></option>

                                    <option locattr="locdata" locdata="!LOC(server_browser:in_progress.message):In Progress" value="inprogress"></option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="game-status">
                                    <loc data-i18n="server_browser:status.message" desc="">Status</loc>
                                </label>
                                <select class="selectpicker form-control" id="game-status" name="game-status" data-bind="selectPicker: gameStatusFilter">
                                    <option value="any" locattr="locdata" locdata="!LOC(server_browser:any.message):Any"></option>

                                    <option value="canplay" locattr="locdata" locdata="!LOC(server_browser:can_play.message):Can Play"></option>

                                    <option value="canspectate" locattr="locdata" locdata="!LOC(server_browser:can_spectate.message):Can Spectate"></option>

                                    <option value="canjoin" locattr="locdata" locdata="!LOC(server_browser:can_join.message):Can Join"></option>
                                </select>
                            </div>

                             <div class="form-group">
                                <label for="game-mode">
                                    <loc data-i18n="server_browser:mode.message" desc="">Mode</loc>
                                </label>
                                <select class="selectpicker form-control" id="game-mode" name="game-mode" data-bind="selectPicker: gameModeFilter">
                                    <option value="any" locattr="locdata" locdata="!LOC(server_browser:any.message):Any"></option>

                                    <option value="freeforall" locattr="locdata" locdata="!LOC(server_browser:free_for_all.message):Free For All"></option>

                                    <option value="teamarmies" locattr="locdata" locdata="!LOC(server_browser:team_armies.message):Team Armies"></option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="planets">
                                    <loc data-i18n="server_browser:number_of_planets.message" desc="">Number of Planets</loc>
                                </label>
                                <div class="filter_controls">
                                    <div class="count_filters">
                                        <select class="form-control selectpicker" name="planets_min" data-bind="selectPicker: planetCountMinFilter">
                                            <option value="any" locattr="locdata" locdata="!LOC(server_browser:no_min.message):No min"></option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>
                                    <div style="display:flex; align-items:center; justify-content:center; text-align:center; flex-grow:1; ">
                                        -
                                    </div>
                                    <div class="count_filters">
                                        <select class="form-control selectpicker" name="planets_min" data-bind="selectPicker: planetCountMaxFilter">
                                            <option value="any" locattr="locdata" locdata="!LOC(server_browser:no_max.message):No max"></option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>
                                </div>

                            </div>

                            <div class="form-group">
                                <label for="players">
                                    <loc data-i18n="server_browser:number_of_players.message" desc="">Number of Players</loc>
                                </label>
                                <div class="filter_controls">
                                    <div class="count_filters">
                                        <select class="form-control selectpicker" name="players_min" data-bind="selectPicker: playerCountMinFilter" style="display:none;">
                                            <option value="any" locattr="locdata" locdata="!LOC(server_browser:no_min.message):No min"></option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>
                                    <div style="display:flex; align-items:center; justify-content:center; text-align:center; flex-grow:1; ">
                                        -
                                    </div>
                                    <div class="count_filters">
                                        <select class="form-control selectpicker" name="players_max" data-bind="selectPicker: playerCountMaxFilter">
                                            <option value="any" locattr="locdata" locdata="!LOC(server_browser:no_max.message):No max"></option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                        </select>
                                    </div>
                                </div>

                            </div>

                            <div class="form-group">
                                <label for="game-tag">
                                    <loc data-i18n="server_browser:tag.message" desc="">Tag</loc>
                                </label>
                                <select class="selectpicker form-control" id="Select3" name="game-tag" data-bind="selectPicker: gameTagFilter">
                                    <option value="any" locattr="locdata" locdata="!LOC(server_browser:any.message):Any"></option>
                                    <option value="Casual" locattr="locdata" locdata="!LOC(server_browser:casual.message):Casual"></option>
                                    <option value="Competitive" locattr="locdata" locdata="!LOC(server_browser:competitive.message):Competitive"></option>
                                    <option value="AI Battle" locattr="locdata" locdata="!LOC(server_browser:ai_battle.message):AI Battle"></option>
                                    <option value="Testing" locattr="locdata" locdata="!LOC(server_browser:testing.message):Testing"></option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="modded-games">
                                    <loc data-i18n="server_browser:mods.message" desc="">Mods</loc>
                                </label>
                                <select class="selectpicker form-control" id="Select5" data-bind="options: moddedGameFilterOptions, selectPicker: moddedGameFilter">
                                </select>
                            </div>
                        </div>
                    </td>
                    <!-- COL 2-->
                    <td class="col_2">
                        <div class="div_data_table">
                            <div class="table_glow"></div>
                            <div class="wrapper" data-bind="style: { height: listWrapperHeight }">
                                <div class="row" id="game-list-header">
                                    <div class="col-md-3 game">
                                        <loc data-i18n="server_browser:game.message" desc="">Game</loc>
                                    </div>
                                    <div class="col-md-2 planets">
                                        <loc data-i18n="server_browser:planets.message" desc="">Planets</loc>
                                    </div>
                                    <div class="col-md-2 mode">
                                        <loc data-i18n="server_browser:mode.message" desc="">Mode</loc>
                                    </div>
                                    <div class="col-md-1 modded">
                                        <loc data-i18n="server_browser:mod.message" desc="">Mod</loc>
                                    </div>
                                    <div class="col-md-1 slots">
                                        <loc data-i18n="server_browser:slots.message" desc="">Slots</loc>
                                    </div>
                                    <div class="col-md-1 spectate">
                                        <loc data-i18n="server_browser:spectate.message" desc="">Spectate</loc>
                                    </div>
                                    <div class="col-md-2 region">
                                        <loc data-i18n="server_browser:region.message" desc="">Region</loc>
                                        <span style="float: right; margin-top: 5px; margin-right: 5px" class="glyphicon glyphicon-lock"></span>
                                    </div>
                                </div>
                                <div id="game-list" data-bind="foreach: filteredGameList, style: { height: listHeight }">
                                    <div class="row one-game btn_std_ix" 
                                         data-bind="css: { 'ui-selected': ((lobby_id || host) === model.currentSelectedGameHost()) },
                                                    click: $parent.setSelected,
                                                    event: { dblclick: $parent.joinSelectedGame }">
                                        <div class="col-md-3 game" data-bind="text: name"></div>
                                        <div class="col-md-2 planets">
                                            <!-- ko foreach: biomes -->
                                            <img src="" data-bind="attr: { src: 'coui://ui/main/shared/img/planets/' + $data + '.png' }" />
                                            <!-- /ko -->
                                        </div>
                                        <div class="col-md-2 mode"><span data-bind="text: mode"></span></div>
                                        <div class="col-md-1 modded" data-bind="text: modded"></div>
                                        <div class="col-md-1 slots" data-bind="text: player_display"></div>
                                        <div class="col-md-1 spectate" data-bind="text: spectator_display"></div>
                                        <div class="col-md-2 region">
                                            <span class="region" data-bind="text: region"></span>
                                            <span class="glyphicon" style="float: right; margin-right: -6px" data-bind="css: { 'glyphicon-lock': locked }"></span>
                                        </div>                                   
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    <!-- COL 3-->
                    <td class="col_3" style="width:280px;">
                        <div id="detail-pane-wrapper" data-bind="visible: currentSelectedGame">
                            <div id="detail-pane" data-bind="with: currentSelectedGame">
                                <h3 data-bind="text: name"></h3>
                                <div class="section col-mode">
                                    <div class="col-header">
                                        <loc data-i18n="server_browser:mode.message" desc="">Mode</loc>
                                    </div>
                                    <div class="item">
                                        <div class="text" data-bind="text: mode"></div>
                                    </div>
                                </div>
                                <div class="section col-players">
                                    <div class="col-header">
                                        <loc data-i18n="server_browser:players.message" desc="">Players</loc>
                                    </div>
                                    <div data-bind="foreach: player_detail">
                                        <div class="item">
                                            <div class="text" data-bind="text: $data, css: { open: $data === 'Open slot' }"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="section col-players" data-bind="visible: spectator_detail.length">
                                    <div class="col-header">
                                        <loc data-i18n="server_browser:spectators.message" desc="">Spectators</loc>
                                    </div>
                                    <div data-bind="foreach: spectator_detail">
                                        <div class="item">
                                            <div data-bind="text: $data, css: { open: $data === 'Open slot' }"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="section col-planets">
                                    <div class="col-header">
                                        <loc data-i18n="server_browser:planets.message" desc="">Planets</loc>
                                    </div>
                                    <div data-bind="foreach: planet_detail" class="planet-detail">
                                        <div class="one-planet item">
                                            <div class="planet-biome">
                                                <img src="" data-bind="attr: { src: 'coui://ui/main/shared/img/planets/' + $data.biome + '-big.png' }" width="40" />
                                                <div class="thruster_count" data-bind="visible: $data.move_thrust > 0">
                                                    <div style="margin:-1px 0px 0px 0px;" data-bind="text: $data.move_thrust, visible: $data.move_thrust > 0"></div>
                                                </div>
                                            </div>
                                            <div>
                                                <div class="planet-name text" data-bind="text: $data.name"></div>
                                                <div class="planet-radius" data-bind="text: 'Radius ' + $data.radius"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="section col-mods" data-bind="visible: mod_names.length">
                                    <div class="col-header">
                                        <loc data-i18n="server_browser:mods.message" desc="">Mods</loc>
                                    </div>
                                    <div data-bind="foreach: mod_names">
                                        <div class="item" data-bind="text: $data"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
</div>
<!-- COMMIT -->
<div class="div_commit_cont">

    <div id="game-bar">
        <div id="join" style="min-width: 280px;" data-bind="click: tryToJoinGame, css: { btn_std: (model.canJoinGame()), btn_std_disabled: (!model.canJoinGame()) }, click_sound: 'default', rollover_sound: 'default'">
            <div class="btn_label">
                <loc data-i18n="server_browser:join_game.message" desc="">Join Game</loc>
            </div>
        </div>

        <div id="spectate" style="min-width: 180px;" data-bind="click: tryToSpectateGame, css: { btn_std: canSpectateGame, btn_std_disabled: (!model.canSpectateGame()) }, click_sound: 'default', rollover_sound: 'default'">
            <div class="btn_label">
                <loc data-i18n="server_browser:spectate.message" desc="">Spectate</loc>
            </div>
        </div>
    </div>

</div>


<!-- PASSWORD MODAL -->
<div class="modal fade" id="getPassword" tabindex="-1" role="dialog" aria-labelledby="getPasswordLabel" aria-hidden="true" data-show="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="getPasswordLabel">
                    <loc data-i18n="server_browser:locked_game.message" desc="">Locked Game</loc>
                </h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="password">
                        <loc data-i18n="server_browser:password.message" desc="">Password</loc>
                    </label>
                    <input type="password" class="form-control" id="password" placeholder="Enter game password" data-bind="value: privateGamePassword" />
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn_std btn_hero" id="passwordJoin" data-bind="click: joinWithPassword, click_sound: 'default', rollover_sound: 'default'">
                    <loc data-i18n="server_browser:join_game.message" desc="">Join Game</loc>
                </button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->


</body>
</html>
