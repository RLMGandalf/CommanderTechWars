<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <noloc><title>Armory</title></noloc>
    <script src="coui://ui/main/shared/js/common.js" type="text/javascript"></script>
    <!-- optional, if you're going to use select boxes -->
    <script src="coui://ui/main/shared/js/thirdparty/bootstrap-select/bootstrap-select.js" type="text/javascript"></script>
    <script src="armory.js" type="text/javascript"></script>

    <link href="coui://ui/main/shared/css/global.css" rel="stylesheet" type="text/css" />
    <!-- optional, if you're going to use select boxes -->
    <link href="coui://ui/main/shared/js/thirdparty/bootstrap-select/bootstrap-select.css" rel="stylesheet" type="text/css" />
    <link href="armory.css" rel="stylesheet" type="text/css" />
    <link href="checkout.css" rel="stylesheet" type="text/css" />

    <link href="coui://ui/main/shared/css/landing_page.css" rel="stylesheet" type="text/css" />
</head>
<body style="background-image: url('coui://ui/main/shared/img/backgrounds/img_bground_galaxy_01.png'); background-size: cover;">
    <!--- VISUAL TREATMENTS ---->
    <div class="background_glow"></div>
    <div class="title_watermark">
        <loc data-i18n="armory:armory.message" desc="">Armory</loc>
    </div>
    <div class="title_watermark" style="-webkit-animation-delay: 9s;">
        <noloc>audentes fortuna iuvat</noloc>
    </div>

    <!-- TITLE -->
    <div class="section_title">
        <div class="content">
            <div class="btn_std_ix btn_back_small" data-bind="click: back">
                <span class="carat"><</span>
            </div>
            <div class="title">
                <loc data-i18n="armory:armory.message" desc="">Armory</loc>
            </div>
        </div>
    </div>
    <!-- CONTENT --->
    <div class="section_content_top_bar">
        <!-- TABS -->
        <div class="tab_cont">
            <div class="tabs">
                <ul class="nav-pills">
                    <li class="active">
                        <a href="#commanders" data-toggle="pill" data-bind="click: function () { model.showValue('commanders'); }, click_sound: 'default', rollover_sound: 'default'">
                            <loc data-i18n="armory:commanders.message" desc="">Commanders</loc>
                        </a>
                    </li>
                    <li>
                        <a href="#badges" data-toggle="pill" data-bind="click: function () { model.showValue('badges'); }, click_sound: 'default', rollover_sound: 'default'">
                            <loc data-i18n="armory:badges.message" desc="">Badges</loc>
                        </a>
                    </li>
                    <li style="width: 150px; text-align: center;">
                        <a href="#cart" data-toggle="pill" data-bind="click: function () { model.showValue('cart'); }, click_sound: 'default', rollover_sound: 'default'">
                            <loc data-i18n="armory:cart.message" desc="">Cart</loc>
                            (<span data-bind="text: model.cartSize"></span>)</a>
                    </li>
                </ul>
            </div>
            <div style="position: absolute; right: 0px; display: flex; justify-content: center;">
                <input type="text" class="form-control" placeholder="Coupon code" data-bind="value: couponCode, valueUpdate: 'input'" />
                <div class="btn_std_ix btn_back_small" style="height: 27px; margin-top: 0px; width: 170px" id="header-button" data-bind="click: redeemCoupon, css: { disabled: (!model.signedInToUbernet()) }">
                    <div class="btn_std_label down" style="margin: 2px 4px 4px 4px">                 
                        <loc data-i18n="armory:redeem.message" desc="">Redeem</loc>
                    </div>
                </div>
                <div id="header-message" data-bind="text: couponRedeemMessage"></div>
            </div>
        </div>

    </div>
    <div class="section_content">
        <div class="section_wrapper">
            <div style="height: auto; width: 100%; overflow: auto; margin: 8px 0px; display: flex; justify-content: center;">
                <div class="wrapper tab-content" data-bind="style: { height: contentWrapperHeight }">
                    <div id="commanders" class="tab-pane active">
                        <div id="commander-list" data-bind="foreach: commanders">
                            <div class="one-commander"
                                data-bind="click: function () { model.selectedCommanderIndex($index()) },
                                        css: {one_commander_selected: model.selectedCommanderIndex() == $index()}">
                                <div class="commander-title-grp">
                                    <div class="commander-title" data-bind="text: $data.DisplayName">
                                        Commander Name
                                    </div>
                                    <!-- ko if: !_.isUndefined($data.KSBacker) -->
                                    <div class="lbl_commander_ks_credit">
                                        <loc data-i18n="armory:designed_in_collaboration_with.message" desc="">Designed in collaboration with</loc>
                                        <div class="lbl_ks_username" data-bind="text: $data.KSBacker"></div>
                                        <div style="font-size: 9px; text-transform: uppercase; color: #999;">
                                            <loc data-i18n="armory:kickstarter_backer.message" desc="">Kickstarter Backer</loc>
                                        </div>
                                    </div>
                                    <!-- /ko -->
                                    <div class="commander-selected" data-bind="visible: (model.preferredCommander() && $data.ObjectName == model.preferredCommander().ObjectName)">
                                        <span class="glyphicon glyphicon-star" style="color: #00ff00;"></span>
                                    </div>
                                </div>
                                <div class="commander-thumb">
                                    <img class="icon" src="" data-bind="attr: { src: $data.ThumbImgSource }" />
                                </div>
                                <div>
                                    <div class="div_price">
                                        <span class="lbl_price"
                                            data-bind="text: model.costForCommander($data),
                                            visible: model.signedInToUbernet,
                                            css: { lbl_owned: (model.costForCommander($data) === 'Owned'), lbl_locked: (model.costForCommander($data) === 'Locked') }"></span>
                                    </div>

                                    <!-- ko if: (model.costForCommander($data) !== 'Owned' && $data.OrigPrice && model.costForCommander($data) !== $data.OrigPrice)-->
                                    <!---- WHEN SALE, ORIGINAL PRICE ---->
                                    <div class="div_price">
                                        <span class="lbl_price lbl_original_price" data-bind="text: $data.OrigPrice"></span>
                                    </div>

                                    <!-- /ko -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="badges" class="tab-pane">
                        <div id="badge-list" data-bind="foreach: badges" style="display: flex;">
                            <div class="one-badge" data-bind="visible: $data.IsOwned">
                                <div style="height: 20px; width: 100%; background: rgba(0, 179, 255, 0.1); position: absolute; z-index: 0; bottom: 0;">
                                    <div style="height: 6px; width: 100%; background: rgba(0, 179, 255, 0.1); position: absolute; z-index: 0; bottom: 0;"></div>
                                </div>
                                <div class="one-badge-cont">
                                    <img class="icon" src="" data-bind="attr: { src: $data.ImgSource }" />
                                    <div data-bind="text: $data.DisplayName">Badge Name</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--------- CART -------------------------->
                    <div id="cart" class="tab-pane">
                        <div id="cart-contents">
                            <div class="div_cart_cont">
                                <!-- ko if: ubernetCallPending -->
                                <div style="width: 100%; text-align: center; padding: 4px; border: 1px solid #333; background: black;">
                                    <img src="../../shared/img/loading.gif" style="margin-right: 8px;" /><span><loc data-i18n="armory:updating.message" desc="">Updating...</loc></span>
                                </div>
                                <!-- /ko -->
                                <!-- ko if: (model.createCartResult()) -->
                                <table class="tbl_cart">
                                    <tbody>
                                        <tr>
                                            <th class="tbl_cart_header" style="width: 80px;"></th>
                                            <th class="tbl_cart_header" style="width: 100%;">
                                                <loc data-i18n="armory:item.message" desc="">Item</loc>
                                            </th>
                                            <th class="tbl_cart_header" style="text-align: right;">
                                                <loc data-i18n="armory:price.message" desc="">Price</loc>
                                            </th>
                                        </tr>
                                        <!-- ITEM -->
                                        <!-- ko foreach: model.createCartResult().Contents -->
                                        <tr>
                                            <td class="item">
                                                <button class="btn-default btn_remove_item" style="font-size: 10px;" data-bind="click: function () { model.removeItemFromCartByIndex($index()) }">
                                                    <loc data-i18n="armory:remove.message" desc="">REMOVE</loc>
                                                </button>
                                            </td>
                                            <td class="item" style="padding: 12px 0px 4px;">
                                                <div class="product_title">
                                                    <span align="left" data-bind="text: getCatalogItem($data.ObjectName).DisplayName"></span>
                                                </div>
                                            </td>
                                            <td class="item" style="text-align: right; padding: 12px 0px 4px;">
                                                <div class="product_price">
                                                    <span data-bind="text: model.stringifyPrice($data.Prices.RM)"></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <!-- /ko -->
                                        <!-- CREDIT -->
                                        <!-- ko if: showCreditApplied -->
                                        <tr>
                                            <td class="item footer_subtotal" colspan="2">
                                                <div class="lbl_subtotal">
                                                    <span>
                                                        <loc data-i18n="armory:credit_applied.message">Credit applied: </loc>
                                                    </span>
                                                </div>
                                            </td>
                                            <td class="item footer_subtotal">
                                                <span data-bind="text: creditApplied"></span>
                                            </td>
                                        </tr>
                                        <!-- /ko -->
                                        <!-- SUBTOAL ROW -->
                                        <tr>
                                            <td class="item footer_subtotal" colspan="2">
                                                <div class="lbl_subtotal">
                                                    <span>
                                                        <loc data-i18n="armory:total_price.message">Total: </loc>
                                                    </span>
                                                </div>
                                            </td>
                                            <td class="item footer_subtotal">
                                                <span data-bind="text: getTotal()"></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- /ko -->

                                <!-- ko ifnot: (model.createCartResult() || model.ubernetCallPending()) -->
                                <span>
                                    <loc data-i18n="armory:cart_empty.message" desc="">Your cart is empty.</loc>
                                </span>
                                <!-- /ko -->


                                <div class="div_cart_commit_btns">
                                    <div style="float: left; margin: 0px 0px 0px -6px;">
                                        <div class="btn_std">
                                            <div class="btn_std_label down" data-bind="click: function () { model.navToTab('commanders') }">
                                                <loc data-i18n="armory:continue_shopping.message" desc="">Continue Shopping</loc>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- ko if: (model.createCartResult()) -->
                                    <div style="float: right; margin: 0px -6px 0px 0px;">
                                        <div class="btn_hero" data-bind="click: model.initiatePurchase, click_sound: 'default', rollover_sound: 'default'">
                                            <div class="btn_std_label down">
                                                <loc data-i18n="armory:checkout.message" desc="">CHECKOUT</loc>
                                            </div>
                                        </div>
                                        <div class="btn_std" data-bind="click: model.clearPurchase, click_sound: 'default', rollover_sound: 'default'">
                                            <div class="btn_std_label down">
                                                <loc data-i18n="armory:cancel.message" desc="">Cancel</loc>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- /ko -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- COMMIT -->
    <div class="div_commit_cont">
        <!-- ko if: showCommanders -->
        <!-- ko if: ubernetCallPending -->
        <img src="../../shared/img/loading.gif" style="position:absolute; left:0; height: 30px;" />
        <!-- /ko -->
        <!-- ko ifnot: ubernetCallPending -->
        <div class="btn_std" style="position: absolute; left: 0px;" data-bind="click: ubernetRefreshInventory"">
            <div class="btn_label">
                <loc data-i18n="armory:refresh.message" desc="">Refresh</loc>
            </div>
        </div>
        <!-- /ko -->

        <div class="btn_std" style="float: left;" data-bind="click: $root.selectCommander,
            css: { btn_std: model.selectedCommanderIndex() == -1, btn_std: model.selectedCommanderIndex() != -1, btn_std_disabled: selectedIsNotAvailableForUse }">
            <div class="btn_label">
                <loc data-i18n="armory:set_as_default_commander.message" desc="">Set As Default Commander</loc>
            </div>
        </div>
        <span data-bind="visible: selectedItemIsInCart">
            <loc data-i18n="armory:item_is_already_in_cart.message" desc="">Item is already in cart.</loc>
        </span>
        <div class="btn_hero" data-bind="click: $root.addCart,
                css: { disabled: selectedIsNotForSale },
                visible: signedInToUbernet">
            <div class="btn_label" style="padding:0px 40px;">
                <loc data-i18n="armory:add_to_cart.message" desc="">Add To Cart</loc>
            </div>
        </div>
        <!-- /ko -->
    </div>

    <div data-bind="visible: showExternalOverlay" class="overlay_bground">
        <div class="div_panel_cont">
            <div class="primary_msg" style="margin-top: -34px;">
                <loc data-i18n="armory:checkout.message" desc="">CHECKOUT</loc>
            </div>
            <panel id="overlay" src="coui://ui/main/game/overlay/overlay.html" data-bind="attr: { src: overlayUrl }"></panel>
            <div class="div_close_panel">
                <!-- ko if: overlaySequenceComplete -->
                <div class="btn_std" data-bind="click: completePurchase">
                    <div class="btn_std_label down">
                        <loc data-i18n="armory:return_to_armory.message" desc="">Return to Armory</loc>
                    </div>
                </div>
                <div class="btn_std" data-bind="click: back">
                    <div class="btn_std_label down">
                        <loc data-i18n="armory:go_to_main_menu.message" desc="">Go to Main Menu</loc>
                    </div>
                </div>
                <!-- /ko -->
                <!-- ko ifnot: overlaySequenceComplete -->
                <div class="btn_std" data-bind="click: function () { model.showExternalOverlay(false); model.createCart(); }">
                    <div class="btn_std_label down">
                        <loc data-i18n="armory:cancel.message" desc="">Cancel</loc>
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>

    <div data-bind="visible: showLocalOverlay" class="overlay_bground">
        <div class="div_panel_cont">
            <div class="primary_msg" style="margin-top: -34px;">
                <loc data-i18n="armory:checkout.message" desc="">CHECKOUT</loc>
            </div>

            <div>
                <!--- IF SUCCESS ---->

                <!-- ko with: completePurchaseResult -->
                <div class="div_cart_cont">
                    <div class="div_confirm_msg">
                        <div class="div_primary_msg">
                            <loc data-i18n="armory:thank_you_for_your_purchase.message" desc="">Thank you for your purchase.</loc>
                        </div>
                        <div class="div_secondary_msg">
                            <loc data-i18n="armory:your_purchased_items_are_now_registered_to_your_account_and_are_accessible_in_the_game.message" desc="">Your purchased items are now registered to your account and are accessible in the game.</loc>
                        </div>
                    </div>
                    <div class="div_receipt_info">
                        <div class="div_primary_msg">
                            <loc data-i18n="armory:here_s_your_receipt.message" desc="">Here's your receipt.</loc>
                        </div>
                        <div class="div_secondary_msg" style="margin: 0px 0px 10px 0px;">
                            <loc data-i18n="armory:confirmation_of_your_purchase_is_provided_below.message" desc="">Confirmation of your purchase is provided below.</loc>
                        </div>
                        <table>
                            <tr>
                                <td>
                                    <div style="margin-right: 8px;">
                                        <loc data-i18n="armory:account_name.message" desc="">Account Name:</loc>
                                    </div>
                                </td>
                                <td>
                                    <div style="margin-right: 8px;" data-bind="text: model.uberName"></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="margin-right: 8px;">
                                        <loc data-i18n="armory:total.message" desc="">Total:</loc>
                                    </div>
                                </td>
                                <td>
                                    <!-- ko with: Purchase -->
                                    <div style="margin-right: 8px;" data-bind="text: model.formatRM(PurchasePrice)"></div>
                                    <!-- /ko -->
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div style="margin-right: 8px;">
                                        <loc data-i18n="armory:confirmation_code.message" desc="">Confirmation code:</loc>
                                    </div>
                                </td>
                                <td>
                                    <div style="margin-right: 8px;" data-bind="text: OrderId"></div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <!-- /ko -->
            </div>
            <!-- ko ifnot: ubernetCallPending -->
            <div class="div_close_panel">
                <!-- ko if: overlaySequenceComplete -->
                <div class="btn_std">
                    <div class="btn_std_label down" data-bind="click: back">
                        <loc data-i18n="armory:go_to_main_menu.message" desc="">Go to Main Menu</loc>
                    </div>
                </div>
                <div class="btn_std">
                    <div class="btn_std_label down" data-bind="click: function () { model.navToTab('commanders'); model.clearPurchase(); }">
                        <loc data-i18n="armory:return_to_armory.message" desc="">Return to Armory</loc>
                    </div>
                </div>
                <!-- /ko -->
                <!-- ko ifnot: overlaySequenceComplete -->
                <div class="btn_std">
                    <div class="btn_std_label down" data-bind="click: clearPurchase">
                        <loc data-i18n="armory:cancel.message" desc="">Cancel</loc>
                    </div>
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->
        </div>
    </div>


</body>
</html>
